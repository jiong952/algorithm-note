## **指数型枚举**

dfs思考递归搜索树，用state[]数组记录状态

```java
import java.util.*;
public class Main{
    static boolean[] state; //记录选择状态 为true表示选择
    static int n;
    public static void main(String[] args){
        Scanner sc = new Scanner(System.in);
        n = sc.nextInt();
        state = new boolean[n + 1];
        dfs(1);
    }
    public static void dfs(int index){
        if(index > n){
            //输出
            for(int i = 1; i <= n; i++){
                if(state[i]) System.out.print(i + " ");
            }
            System.out.println();
            return;
        }
        state[index] = true;
        dfs(index + 1);
        state[index] = false;
        dfs(index + 1);
    }
}
```

**存储结果版本**

```java
import java.util.*;
public class Main{
    static LinkedList<Integer> path;
    static List<List<Integer>> res;
    static int n;
    public static void main(String[] args){
        Scanner sc = new Scanner(System.in);
        n = sc.nextInt();
        path = new LinkedList<>();
        res = new ArrayList<>();
        dfs(1);
        for(List<Integer> path : res){
            for(int i : path) System.out.print(i + " ");
            System.out.println();
        }
    }
    public static void dfs(int index){
        if(index > n){
            //输出
            res.add(new ArrayList<>(path));
            return;
        }
        path.add(index);
        dfs(index + 1);
        path.removeLast();
        dfs(index + 1);
    }
}
```

## **排列型枚举**

两个数组记录状态

state[]数组记录每个位置的状态

used[]数组记录数值是否用过

```java
import java.util.*;

public class Main{
    static int n;
    static int[] state; //记录路径
    static boolean[] used; //记录当前数字是否用过
    public static void main(String[] args){
        Scanner sc = new Scanner(System.in);
        n = sc.nextInt();
        used = new boolean[n + 1];
        state = new int[n + 1];
        dfs(1);//因为答案要求从1开始
    }
    public static void dfs(int index){
        if(index > n){
            for(int i = 1; i <= n; i++){
                System.out.print(state[i] + " ");
            }
            System.out.println();
            return;
        }
        for(int i = 1; i <= n; i++){
            if(used[i]) continue;
            used[i] = true; //记录已经使用过
            state[index] = i; //记录路径
            dfs(index + 1);
            used[i] = false;
        }
    }
}
```

存储结果

```java
import java.util.*;

public class Main{
    static int n;
    static LinkedList<Integer> path;
    static List<List<Integer>> res;
    static boolean[] used; //记录当前数字是否用过
    public static void main(String[] args){
        Scanner sc = new Scanner(System.in);
        n = sc.nextInt();
        used = new boolean[n + 1];
        path = new LinkedList<>();
        res = new ArrayList<>();
        // state = new int[n + 1];
        dfs(1);//因为答案要求从1开始
        for(List<Integer> path : res){
            for(int i : path) System.out.print(i + " ");
            System.out.println();
        }
    }
    public static void dfs(int index){
        if(index > n){
            res.add(new ArrayList<>(path));
            return;
        }
        for(int i = 1; i <= n; i++){
            if(used[i]) continue;
            used[i] = true; //记录已经使用过
            path.add(i);
            dfs(index + 1);
            used[i] = false;
            path.removeLast();
        }
    }
}
```



## **组合型枚举**

state[]数组记录每个位置的状态，即路径

startIndex记录遍历位置

**n相当于树的宽度，m相当于树的深度**

![image-20221102171129421](img/image-20221102171129421.png)

```java
import java.util.*;
public class Main{
    static int[] state; //记录路径，m个位置都放的是什么数
    static int n;
    static int m;
    public static void main(String[] args){
        Scanner sc = new Scanner(System.in);
        n = sc.nextInt();
        m = sc.nextInt();
        state = new int[m]; 
        dfs(0,1);
    }
    public static void dfs(int index,int startIndex){
        // 剪枝
        if(index + n - startIndex  + 1 < m) return;
        if(index == m){
            //叶子结点
            for(int i = 0; i < m; i++) System.out.print(state[i] + " ");
            System.out.println();
            return;
        }
        for(int i = startIndex; i <= n; i++){
            state[index] = i;
            dfs(index + 1, i + 1);
            state[index] = 0;
        }
    }
}
```

存储过程

```java
import java.util.*;
public class Main{
    // static int[] state; //记录路径，m个位置都放的是什么数
    static int n;
    static int m;
    static LinkedList<Integer> path;
    static List<List<Integer>> res;
    public static void main(String[] args){
        Scanner sc = new Scanner(System.in);
        n = sc.nextInt();
        m = sc.nextInt();
        path = new LinkedList<>();
        res = new ArrayList<>();
        dfs(0,1);
        for(List<Integer> path : res){
            for(int i : path) System.out.print(i + " ");
            System.out.println();
        }
    }
    public static void dfs(int index,int startIndex){
        // 剪枝
        if(index + n - startIndex  + 1 < m) return;
        if(index == m){
            //叶子结点
            res.add(new ArrayList<>(path));
            return;
        }
        for(int i = startIndex; i <= n; i++){
            path.add(i);   
            dfs(index + 1, i + 1);
            path.removeLast();
        }
    }
}
```

